---
title: "R Notebook"
output: html_notebook
---

```{r}
library(conflicted)
library(raster)
library(tidyverse)
library(sf)
library(lubridate)
library(spatialEco)
library(ambient)
library(ggnewscale)
conflict_prefer("select", "dplyr")
conflict_prefer("filter", "dplyr")

R.files = list.files("../R", full.names = T)
for (f in R.files) source(f)
```

# Initialisation

```{r}
mysim = Simulation$new(env_dimensions = c(10, 10),
                       n_people = 100,
                       max_human_infectivity = 30,
                       bite_rate = 0.001)
mysim$plot_mosquito_infectivity()
mysim$plot_human_infectivity()
mysim$plot_mosquito_migration()
mysim$plot_init()
```

Time step

```{r}
for (i in 1:40) mysim$iterate(1)
mysim$plot_epicurve()
mysim$plot()
```


